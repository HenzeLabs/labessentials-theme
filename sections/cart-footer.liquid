<div style="position: fixed !important; bottom: 0 !important; left: 0 !important; width: 100% !important; background: #000 !important; color: #fff !important; z-index: 999999 !important; padding: 15px !important; text-align: center !important; font-size: 16px !important; font-weight: bold !important; display: block !important;" id="sticky-cart-footer">
  <a href="{{ routes.cart_url }}" style="color: #fff !important; text-decoration: none !important;">
    ðŸ›’ <span id="sticky-cart-count">0</span> items in cart - Click to checkout
  </a>
</div>

<script>
  // Force footer to always be visible
  function forceFooterVisible() {
    const footer = document.getElementById('sticky-cart-footer');
    if (footer) {
      footer.style.cssText = 'position: fixed !important; bottom: 0 !important; left: 0 !important; width: 100% !important; background: #000 !important; color: #fff !important; z-index: 999999 !important; padding: 15px !important; text-align: center !important; font-size: 16px !important; font-weight: bold !important; display: block !important; visibility: visible !important; opacity: 1 !important;';
    }
  }

  // Update cart count
  function updateCartCount() {
    fetch('/cart.js')
      .then(res => res.json())
      .then(cart => {
        const count = document.getElementById('sticky-cart-count');
        if (count) {
          count.textContent = cart.item_count;
        }
        forceFooterVisible();
      })
      .catch(() => forceFooterVisible());
  }

  // Run immediately
  forceFooterVisible();
  
  // Run when page loads
  document.addEventListener('DOMContentLoaded', function() {
    updateCartCount();
    forceFooterVisible();
  });

  // Run when cart updates
  document.addEventListener('cart:updated', function(event) {
    if (event.detail && event.detail.cart) {
      const count = document.getElementById('sticky-cart-count');
      if (count) {
        count.textContent = event.detail.cart.item_count;
      }
    }
    forceFooterVisible();
  });

  // Force it every 2 seconds (nuclear option)
  setInterval(forceFooterVisible, 2000);
</script>
